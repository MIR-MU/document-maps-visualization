<div class="init-wrapper">
  <div class="init-content">
    <div *ngIf="!insertingText" class="init-preface">
      <h1>Document maps</h1>
      <h2>visualization tool for semantic document representations</h2>
      <p>
        This tool will allow you to explore the similarities of a data set of documents/texts,
        showing you why documents are similar, what words they have in common and what's their respective weights
      </p>
      <p>
        You can either import a <a href="https://www.fi.muni.cz/~xpetr2/document-maps/documentation/interfaces/Corpus.html">valid JSON file</a> containing the corpus data or enter the JSON by hand.
        If you just wish to explore the tool, you can use the attached example corpus.
      </p>
      <p>
        This tool is open-source and the source code is available on <a href="https://github.com/xpetr2/document-maps">GitHub</a>.
        If you wish to read the documentation of this tool it is available <a href="https://www.fi.muni.cz/~xpetr2/document-maps/documentation/">here</a>.
      </p>
    </div>
    <div *ngIf="!insertingText" class="init-buttons">
      <button mat-raised-button color="primary" (click)="fileInput.click()"><mat-icon>file_upload</mat-icon><span>Insert corpus as file</span></button>
      <button mat-raised-button color="primary" (click)="insertingText = true"><mat-icon>wysiwyg</mat-icon><span>Insert corpus as JSON text</span></button>
    </div>
    <div *ngIf="!insertingText" class="init-example">
      <div class="separator">OR</div>
      <button mat-raised-button class="long-button" (click)="loadExample()"><mat-icon>description</mat-icon>&nbsp;<span>Use the example corpus</span></button>
    </div>
    <div *ngIf="insertingText" class="init-insert-text">
      <button mat-button aria-label="Back" class="navigate-back" (click)="insertingText = false">
        <mat-icon>arrow_back</mat-icon><span>Back</span>
      </button>
      <mat-form-field class="json-form">
        <mat-label>Insert JSON</mat-label>
        <textarea [(ngModel)]="insertedText" #jsonTextarea matInput></textarea>
      </mat-form-field>
      <button mat-raised-button color="primary" (click)="handleTextUpload()">
        <mat-icon>file_upload</mat-icon><span>Upload</span>
      </button>
    </div>
    <input #fileInput type="file" name="name" style="display: none;" (change)="handleFileUpload($event)" />
    <div *ngIf="validating" class="loading">
      <mat-spinner></mat-spinner>
    </div>
  </div>
</div>
